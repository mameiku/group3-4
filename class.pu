@startuml BBショップ_ドメインモデル図
skinparam handwritten false
skinparam classAttributeIconSize 0
skinparam defaultFontName "メイリオ"

class 管理者 {
    - 管理者ID: String
    - 名前: String
    - パスワード: String
    --
    + 管理者アカウントを作成する(): void
    + 管理者情報を変更する(): void
    + ログインする(): void
    + ログアウトする(): void
    + 停止する(): void
}

class 顧客 {
    - 顧客ID: int
    - メールアドレス: String
    - パスワード: String
    - 氏名: String
    - 電話番号: String
    - 住所: String
    - クレジットカード情報: String
    --
    + ログイン(メアド: String, パス: String)
    + 新規登録(): void
    + 商品検索(キーワード: String)
    + レビュー投稿(商品ID: int)
}

class 商品 {
    - 商品ID: int
    - 商品名: String
    - 価格: Decimal
    - 在庫数: int
    - 説明: String
    --
    + 在庫確認(数量: int)
    + 詳細表示(): void
}

class 注文 {
    - 注文ID: int
    - 顧客ID: int
    - 注文日時: DateTime
    - 注文ステータス: String
    - 合計金額: Decimal
    - 配送先住所: String
    --
    + 注文確定(): void
    + キャンセル(): void
}

class 注文明細 {
    - 注文明細ID: int
    - 注文ID: int
    - 商品ID: int
    - 数量: int
    - 購入時価格: Decimal
    --
    + 小計計算(): Decimal
}

class レビュー {
    - レビューID: int
    - 顧客ID: int
    - 商品ID: int
    - 評価点: int
    - コメント: String
    - 投稿日時: DateTime
    --
    + 編集(): void
}

class 支払い {
    - 支払いID: int
    - 注文ID: int
    - 支払い方法: String
    - 支払いステータス: String
    --
    + 支払い処理(): boolean
    + 返金処理(): boolean
}

class 配送 {
    - 配送ID: int
    - 注文ID: int
    - 配送ステータス: String
    - 追跡番号: String
    - 配送先住所: String
    --
    + 配送処理(): void
    + 追跡番号登録(番号: String)
}

class 返品 {
    - 返品ID: int
    - 注文ID: int
    - 返品理由: String
    - 返品ステータス: String
    - 返金ステータス: String
    --
    + 返品処理(): void
}

' ====================================================================
' 関連定義
' 管理者クラスの関連は削除し、単体で存在させます。
' ====================================================================

' 顧客 - 注文 (1対多)
顧客 "1" o-- "*" 注文 : 発注元

' 注文 - 注文明細 (1対多/コンポジション)
注文 "1" *-- "1..*" 注文明細 : 構成

' 注文明細 -> 商品 (多対1/一方向)
注文明細 "*" -> "1" 商品 : 対象

' 顧客 - レビュー (1対多)
顧客 "1" o-- "*" レビュー : 投稿者

' 商品 - レビュー (1対多)
商品 "1" o-- "*" レビュー : 評価対象

' 注文 -> 支払い (1対1/一方向)
注文 "1" -> "1" 支払い : 決済情報

' 注文 -> 配送 (1対1/一方向)
注文 "1" -> "1" 配送 : 配送情報

' 注文 - 返品 (1対0..1)
注文 "1" o-- "0..1" 返品 : 返品情報

@enduml