# ECサイト ユースケース図 (Mermaid)

```mermaid
%% 1. ユースケース図の定義を開始
%% graph LR は「左から右」の流れを指定しますが、ユースケース図では「usecase diagram」を使います。
usecase diagram

    %% 2. アクターの定義
    actor Customer as 顧客
    actor System as システム

    %% 3. ユースケースの定義
    Customer --> (アカウントにログイン)
    Customer --> (アカウント情報確認)
    Customer --> (商品を検索/確認)
    Customer --> (商品をカートに入れる)
    Customer --> (商品を購入確定)
    Customer --> (注文をキャンセル)
    Customer --> (商品を返品/返金)
    Customer --> (レビューを投稿)

    System --> (決済処理を実行)
    System --> (各種メールを送信)
    System --> (在庫を更新)
    
    %% 4. 関連 (Relationships) の定義
    
    %% インクルード (<<含む>>)
    (商品を購入確定) .> (決済処理を実行) : <<include>>
    (商品を購入確定) .> (在庫を更新) : <<include>>
    (商品を購入確定) .> (各種メールを送信) : <<include>>
    
    (商品を返品/返金) .> (決済処理を実行) : <<include>>
    (商品を返品/返金) .> (在庫を更新) : <<include>>

    (アカウントにログイン) .> (アカウント情報確認) : <<include>>

    %% エクステンド (<<拡張>>)
    (商品を購入確定) <. (商品を返品/返金) : <<extend>>
    (商品を購入確定) <. (注文をキャンセル) : <<extend>>
    (商品を購入確定) <. (レビューを投稿) : <<extend>>